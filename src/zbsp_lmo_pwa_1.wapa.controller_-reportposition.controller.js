sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/Device","../model/formatter"],function(e,t,i,o+
,l,s,a,r,n){"use strict";return e.extend("br.com.lit.zui5.ne.logistics.offline.controller.ReportPosition",{formatter:n,onInit:function(){const e=this.getOwnerComponent().getRouter();e.getRoute("RouteReportPosition").attachPatternMatched(this.onBeforeShow+
,this);var t=new o({page:0,previousPageAvailable:false,nextPageAvailable:false});this.getView().setModel(t,"PositionPage");var i=new o;this.getView().setModel(i,"Position");var l=new o;this.getView().setModel(l,"FilterLgtyp");var s=new o;this.getView().s+
etModel(s,"FilterLgpla");var a=new o;this.getView().setModel(a,"FilterNumDep")},onBeforeShow:function(){let e=this.getView().getModel("PositionPage");e.setProperty("/page",0);this.onClearFilters();this._getData()},_getData:function(){var e=this.getView()+
.getModel("Position");var t=this.getView().getModel("PositionPage");let i=t.getProperty("/page");var o=`http://localhost:8080/v1/lagp?page=${i}&sort=id&sort=lgnum&sort=lgtyp&sort=lgpla&sort=crdate&sort=active`;if(this.getView().byId("filterNumDep").getVa+
lue()!==""){o+="&lgnum="+this.getView().byId("filterNumDep").getValue()}if(this.getView().byId("filterTpDepPos").getValue()!==""){o+="&lgtyp="+this.getView().byId("filterTpDepPos").getValue()}if(this.getView().byId("filterPositionPos").getValue()!==""){o+
+="&lgpla="+this.getView().byId("filterPositionPos").getValue()}$.ajax({method:"GET",url:o,success:function(t){t.forEach(e=>{if(e.crdate){const[t,i]=e.crdate.split("T");e.crdate=t.replace(/-/g,"-");e.hrdate=i.split(".")[0]}});e.setData(t)},error:function+
(e){console.log(e)}});this.verifyPreviousPage();this.verifyNextPage()},verifyPreviousPage:function(){let e=this.getView().getModel("PositionPage");let t=e.getProperty("/page");e.setProperty("/previousPageAvailable",t>0?true:false)},verifyNextPage:functio+
n(){var e=this.getView().getModel("PositionPage");let t=e.getProperty("/page")+1;var i=`http://localhost:8080/v1/lagp?page=${t}&sort=id&sort=lgnum&sort=lgtyp&sort=lgpla&sort=crdate&sort=active`;if(this.getView().byId("filterNumDep").getValue()!==""){i+="+
&lgnum="+this.getView().byId("filterNumDep").getValue()}if(this.getView().byId("filterTpDepPos").getValue()!==""){i+="&lgtyp="+this.getView().byId("filterTpDepPos").getValue()}if(this.getView().byId("filterPositionPos").getValue()!==""){i+="&lgpla="+this+
.getView().byId("filterPositionPos").getValue()}$.ajax({method:"GET",url:i,success:function(t){e.setProperty("/nextPageAvailable",t.length>0?true:false)},error:function(){e.setproperty("/nextpageavailable",false)}})},onPreviousPageBtnPress:function(){let+
 e=this.getView().getModel("PositionPage");let t=e.getProperty("/page")-1;e.setProperty("/page",t);this._getData()},onNextPageBtnPress:function(){let e=this.getView().getModel("PositionPage");let t=e.getProperty("/page")+1;e.setProperty("/page",t);this._+
getData()},onSearch:function(){this._getData()},onClearFilters:function(){this.getView().byId("filterTpDepPos").setValue("");this.getView().byId("filterPositionPos").setValue("");this.getView().byId("filterNumDep").setValue("");this._getData()},onFilterN+
umDep:function(){this.byId("dialogNumDep").open();let e=this.getView().getModel("FilterNumDep");let t="http://localhost:8080/v1/lgnum";$.ajax({method:"GET",url:t,contentType:"application/json",success:function(t){e.setData(t)},error:function(e){console.l+
og(e)}})},onModFilterNumDep:function(){var e=this.getView().byId("numdepValueHelpTable");var t=e.getSelectedItem();if(t){var i=t.getBindingContext("FilterNumDep");var o=i.getProperty("lgnum")}this.getView("ReportPosition").byId("filterNumDep").setValue(o+
);this.byId("dialogNumDep").close()},onSearchDialogNumdep:function(e){let t=e.getParameter("query");let i=this.byId("numdepValueHelpTable");i.getBinding("items").filter(null);if(t){let e=new sap.ui.model.Filter("lgnum",sap.ui.model.FilterOperator.Contain+
s,t);i.getBinding("items").filter(e)}},onFilterTpDepPos:function(){this.byId("dialogTpDepPos").open();let e=this.getView().getModel("FilterLgtyp");let t="http://localhost:8080/v1/lgtyp";$.ajax({method:"GET",url:t,contentType:"application/json",success:fu+
nction(t){e.setData(t)},error:function(e){console.log(e)}})},onModFilterTpDep:function(){var e=this.getView().byId("tpdepposValueHelpTable");var t=e.getSelectedItem();if(t){var i=t.getBindingContext("FilterLgtyp");var o=i.getProperty("lgtyp")}this.getVie+
w("ReportPosition").byId("filterTpDepPos").setValue(o);this.byId("dialogTpDepPos").close()},onSearchDialogTpdeppos:function(e){let t=e.getParameter("query");let i=this.byId("tpdepposValueHelpTable");i.getBinding("items").filter(null);if(t){let e=new sap.+
ui.model.Filter("lgtyp",sap.ui.model.FilterOperator.Contains,t);i.getBinding("items").filter(e)}},onFilterPositionPos:function(){this.byId("dialogPositionPos").open();let e=this.getView().getModel("FilterLgpla");let t="http://localhost:8080/v1/lagp";$.aj+
ax({method:"GET",url:t,contentType:"application/json",success:function(t){e.setData(t)},error:function(e){console.log(e)}})},onModFilterPosition:function(){var e=this.getView().byId("positionposValueHelpTable");var t=e.getSelectedItem();if(t){var i=t.get+
BindingContext("FilterLgpla");var o=i.getProperty("lgpla")}this.getView("ReportPosition").byId("filterPositionPos").setValue(o);this.byId("dialogPositionPos").close()},onSearchDialogPositionPos:function(e){let t=e.getParameter("query");let i=this.byId("p+
ositionposValueHelpTable");i.getBinding("items").filter(null);if(t){let e=new sap.ui.model.Filter("lgpla",sap.ui.model.FilterOperator.Contains,t);i.getBinding("items").filter(e)}}})});                                                                       
//# sourceMappingURL=ReportPosition.controller.js.map                                                                                                                                                                                                          
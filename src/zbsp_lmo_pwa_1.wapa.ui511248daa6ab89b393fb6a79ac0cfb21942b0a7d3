sap.ui.define(                                                                                                                                                                                                                                                 
  ["sap/ui/core/mvc/Controller", "sap/ui/model/json/JSONModel"],                                                                                                                                                                                               
  function (Controller, JSONModel) {                                                                                                                                                                                                                           
    "use strict";                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
    return Controller.extend(                                                                                                                                                                                                                                  
      "br.com.lit.zui5.ne.logistics.offline.controller.ReportTpDep",                                                                                                                                                                                           
      {                                                                                                                                                                                                                                                        
        onInit: function () {                                                                                                                                                                                                                                  
          var oReportTpDep = new JSONModel();                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
          this.getView().setModel(oReportTpDep, "ReportTpDep");                                                                                                                                                                                                
          this.getReportTpDepData();                                                                                                                                                                                                                           
        },                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        getReportTpDepData: function () {                                                                                                                                                                                                                      
          let dataModel = this.getView().getModel("ReportTpDep");                                                                                                                                                                                              
          let url = "http://localhost:8080/v1/lgtyp";                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
          $.ajax({                                                                                                                                                                                                                                             
            method: "GET",                                                                                                                                                                                                                                     
            url: url,                                                                                                                                                                                                                                          
            contentType: "application/json",                                                                                                                                                                                                                   
            success: function (response) {                                                                                                                                                                                                                     
              response.forEach((item) => {                                                                                                                                                                                                                     
                // Divide em data e hora                                                                                                                                                                                                                       
                const [datePart, timePart] = item.crdate.split("T");                                                                                                                                                                                           
                // Divide a data no formato "YYYY-MM-DD"                                                                                                                                                                                                       
                const [year, month, day] = datePart.split("-");                                                                                                                                                                                                
                // Formata para "DD-MM-YYYY"                                                                                                                                                                                                                   
                item.crdate = `${day}/${month}/${year}`;                                                                                                                                                                                                       
                // Mant√©m a hora no formato original                                                                                                                                                                                                           
                item.crtime = timePart ? timePart.split(".")[0] : "";                                                                                                                                                                                          
              });                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
              let _data = response;                                                                                                                                                                                                                            
              dataModel.setData(_data);                                                                                                                                                                                                                        
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
            error: function (error) {                                                                                                                                                                                                                          
              console.log(error);                                                                                                                                                                                                                              
            },                                                                                                                                                                                                                                                 
          });                                                                                                                                                                                                                                                  
        },                                                                                                                                                                                                                                                     
      }                                                                                                                                                                                                                                                        
    );                                                                                                                                                                                                                                                         
  }                                                                                                                                                                                                                                                            
);                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
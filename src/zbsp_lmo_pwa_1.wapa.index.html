<!DOCTYPE html>                                                                                                                                                                                                                                                
<html lang="en">                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
<head>                                                                                                                                                                                                                                                         
    <meta charset="UTF-8">                                                                                                                                                                                                                                     
    <meta name="viewport" content="width=device-width, initial-scale=1.0">                                                                                                                                                                                     
    <meta http-equiv="X-UA-Compatible" content="IE=edge">                                                                                                                                                                                                      
    <!-- PWA manifest -->                                                                                                                                                                                                                                      
    <link rel="manifest" href="manifest-pwa.json">                                                                                                                                                                                                             
    <title>Logística Offline - Norte Energia</title>                                                                                                                                                                                                           
    <style>                                                                                                                                                                                                                                                    
        html,                                                                                                                                                                                                                                                  
        body,                                                                                                                                                                                                                                                  
        body>div,                                                                                                                                                                                                                                              
        #container,                                                                                                                                                                                                                                            
        #container-uiarea {                                                                                                                                                                                                                                    
            height: 100%;                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                      
    </style>                                                                                                                                                                                                                                                   
    <script id="sap-ui-bootstrap" src="resources/sap-ui-core.js" data-sap-ui-theme="sap_horizon"                                                                                                                                                               
        data-sap-ui-resourceroots='{                                                                                                                                                                                                                           
            "br.com.lit.zui5.ne.logistics.offline": "./"                                                                                                                                                                                                       
        }' data-sap-ui-oninit="module:sap/ui/core/ComponentSupport" data-sap-ui-compatVersion="edge"                                                                                                                                                           
        data-sap-ui-async="true" data-sap-ui-frameOptions="trusted"></script>                                                                                                                                                                                  
    <script>                                                                                                                                                                                                                                                   
        window.addEventListener("load", () => {                                                                                                                                                                                                                
            if ('serviceWorker' in navigator) {                                                                                                                                                                                                                
                navigator.serviceWorker                                                                                                                                                                                                                        
                    .register('./service-worker.js')                                                                                                                                                                                                           
                    .then(                                                                                                                                                                                                                                     
                        () => { console.log('Service Worker Registered'); },                                                                                                                                                                                   
                        (err) => {                                                                                                                                                                                                                             
                            console.log(err);                                                                                                                                                                                                                  
                        }                                                                                                                                                                                                                                      
                    );                                                                                                                                                                                                                                         
            }                                                                                                                                                                                                                                                  
        });                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
        // window.addEventListener('beforeinstallprompt', (installEvent) => {                                                                                                                                                                                  
        //     window.ph = { installEvent }                                                                                                                                                                                                                    
        //     console.log("beforeinstallprompt event fired!");                                                                                                                                                                                                
        // });                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
        window.addEventListener("DOMContentLoaded", async (event) => {                                                                                                                                                                                         
            if ("BeforeInstallPromptEvent" in window) {                                                                                                                                                                                                        
                console.log("⏳ BeforeInstallPromptEvent supported but not fired yet");                                                                                                                                                                         
            } else {                                                                                                                                                                                                                                           
                console.log("❌ BeforeInstallPromptEvent NOT supported");                                                                                                                                                                                       
            }                                                                                                                                                                                                                                                  
            // document.querySelector("#install").addEventListener("click", installApp);                                                                                                                                                                       
        });                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
        window.addEventListener("beforeinstallprompt", (e) => {                                                                                                                                                                                                
            window.ph = { e }                                                                                                                                                                                                                                  
            // Impede que a mini-barra de informações padrão ou a caixa de diálogo de instalação apareçam no celular                                                                                                                                           
            e.preventDefault();                                                                                                                                                                                                                                
            // Salva o evento porque você precisará acioná-lo mais tarde.                                                                                                                                                                                      
            deferredPrompt = e;                                                                                                                                                                                                                                
            console.log("✅ BeforeInstallPromptEvent fired", true);                                                                                                                                                                                             
        });                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
        window.addEventListener("appinstalled", (e) => {                                                                                                                                                                                                       
            console.log("✅ AppInstalled fired", true);                                                                                                                                                                                                         
        });                                                                                                                                                                                                                                                    
    </script>                                                                                                                                                                                                                                                  
    <link rel="stylesheet" href="css/style.css">                                                                                                                                                                                                               
</head>                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
<body class="sapUiBody sapUiSizeCompact" id="content">                                                                                                                                                                                                         
    <div data-sap-ui-component data-name="br.com.lit.zui5.ne.logistics.offline" data-id="container"                                                                                                                                                            
        data-settings='{"id" : "br.com.lit.zui5.ne.logistics.offline"}' data-handle-validation="true"></div>                                                                                                                                                   
</body>                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
</html>                                                                                                                                                                                                                                                        
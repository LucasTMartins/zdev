sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","../model/formatter"],function(e,t,o){"use strict";return e.extend("br.com.lit.zui5.ne.logistics.offline.controller.ReportDeposit",{formatter:o,onInit:function(){var e=new t;const +
o=this.getOwnerComponent().getRouter();o.getRoute("RouteReportDeposit").attachPatternMatched(this.onBeforeShow,this);var i=new t({page:0,previousPageAvailable:false,nextPageAvailable:false});this.getView().setModel(i,"DepositPage");this.getView().setMode+
l(e,"ReportDeposit")},onBeforeShow:function(){let e=this.getView().getModel("DepositPage");e.setProperty("/page",0);this.onBtnClearPress();this.getData()},buildUrlToGetData:function(e=0){var t=this.getView().getModel("DepositPage");let o=t.getProperty("/+
page")+e;let i=this.getView().byId("searchFieldLgnumDeposit").getValue();let l=this.getView().byId("searchFieldWerksDeposit").getValue();let s=this.getView().byId("searchFieldLgortDeposit").getValue();let n=`http://localhost:8080/v1/lgnum?page=${o}`;if(i+
)n+=`&lgnum=${i}`;if(l)n+=`&werks=${l}`;if(s)n+=`&lgort=${s}`;return n},getData:function(){let e=this.getView().getModel("ReportDeposit");let t=this.buildUrlToGetData();$.ajax({method:"GET",url:t,contentType:"application/json",success:function(t){t.forEa+
ch(e=>{const[t,o]=e.crdate.split("T");const[i,l,s]=t.split("-");e.crdate=`${s}/${l}/${i}`;e.crtime=o?o.split(".")[0]:""});let o=t;e.setData(o)},error:function(e){console.log(e)}});this.verifyPreviousPage();this.verifyNextPage()},verifyPreviousPage:functi+
on(){let e=this.getView().getModel("DepositPage");let t=e.getProperty("/page");e.setProperty("/previousPageAvailable",t>0?true:false)},verifyNextPage:function(){let e=this.getView().getModel("DepositPage");let t=this.buildUrlToGetData(1);$.ajax({method:"+
GET",url:t,contentType:"application/json",success:function(t){e.setProperty("/nextPageAvailable",t.length>0?true:false)},error:function(){e.setproperty("/nextpageavailable",false)}})},onPreviousPageBtnPress:function(){let e=this.getView().getModel("Depos+
itPage");let t=e.getProperty("/page")-1;e.setProperty("/page",t);this.getData()},onNextPageBtnPress:function(){let e=this.getView().getModel("DepositPage");let t=e.getProperty("/page")+1;e.setProperty("/page",t);this.getData()},onValueHelpLgnum:function(+
){let e=new t;this.getView().setModel(e,"ValueHelpLgnum");this.byId("valueHelpDialogLgnumDeposit").open();let o=this.getView().getModel("ValueHelpLgnum");let i="http://localhost:8080/v1/lgnum?sort=lgnum";$.ajax({method:"GET",url:i,contentType:"applicatio+
n/json",success:function(e){let t=Array.from(e.reduce((e,t)=>e.set(t.lgnum,t),new Map).values());o.setData(t)},error:function(e){console.log(e)}})},onCloseDialogLgnum:function(){this.byId("valueHelpDialogLgnumDeposit").close()},onSearchDialogLgnum:functi+
on(e){let t=e.getParameter("query");let o=this.byId("tableDialogLgnumDeposit");o.getBinding("items").filter(null);if(t){let e=new sap.ui.model.Filter("lgnum",sap.ui.model.FilterOperator.Contains,t);o.getBinding("items").filter(e)}},onSelectionChangeDialo+
gLgnum:function(e){this.oLgnum=e.getParameter("listItem").getBindingContext("ValueHelpLgnum").getProperty("lgnum")},onSelectionConfirmDialogLgnum:function(){this.byId("searchFieldLgnumDeposit").setValue(this.oLgnum);this.byId("valueHelpDialogLgnumDeposit+
").close()},onValueHelpWerks:function(){let e=new t;this.getView().setModel(e,"ValueHelpWerks");this.byId("valueHelpDialogWerksDeposit").open();let o=this.getView().getModel("ValueHelpWerks");let i="http://localhost:8080/v1/lgnum?sort=werks";$.ajax({meth+
od:"GET",url:i,contentType:"application/json",success:function(e){let t=Array.from(e.reduce((e,t)=>e.set(t.werks,t),new Map).values());o.setData(t)},error:function(e){console.log(e)}})},onSearchDialogWerks:function(e){let t=e.getParameter("query");let o=+
this.byId("tableDialogWerksDeposit");o.getBinding("items").filter(null);if(t){let e=new sap.ui.model.Filter("werks",sap.ui.model.FilterOperator.Contains,t);o.getBinding("items").filter(e)}},onSelectionChangeDialogWerks:function(e){this.oWerks=e.getParame+
ter("listItem").getBindingContext("ValueHelpWerks").getProperty("werks")},onSelectionConfirmDialogWerks:function(){this.byId("searchFieldWerksDeposit").setValue(this.oWerks);this.byId("valueHelpDialogWerksDeposit").close()},onValueHelpLgort:function(){le+
t e=new t;this.getView().setModel(e,"ValueHelpLgort");this.byId("valueHelpDialogLgortDeposit").open();let o=this.getView().getModel("ValueHelpLgort");let i="http://localhost:8080/v1/lgnum?sort=Lgort";$.ajax({method:"GET",url:i,contentType:"application/js+
on",success:function(e){let t=Array.from(e.reduce((e,t)=>e.set(t.lgort,t),new Map).values());o.setData(t)},error:function(e){console.log(e)}})},onSearchDialogLgort:function(e){let t=e.getParameter("query");let o=this.byId("tableDialogLgortDeposit");o.get+
Binding("items").filter(null);if(t){let e=new sap.ui.model.Filter("lgort",sap.ui.model.FilterOperator.Contains,t);o.getBinding("items").filter(e)}},onSelectionChangeDialogLgort:function(e){this.oLgort=e.getParameter("listItem").getBindingContext("ValueHe+
lpLgort").getProperty("lgort")},onSelectionConfirmDialogLgort:function(){this.byId("searchFieldLgortDeposit").setValue(this.oLgort);this.byId("valueHelpDialogLgortDeposit").close()},onBtnClearPress:function(){this.getView().byId("searchFieldLgnumDeposit"+
).setValue();this.getView().byId("searchFieldWerksDeposit").setValue();this.getView().byId("searchFieldLgortDeposit").setValue();this.getData()}})});                                                                                                          
//# sourceMappingURL=ReportDeposit.controller.js.map                                                                                                                                                                                                           